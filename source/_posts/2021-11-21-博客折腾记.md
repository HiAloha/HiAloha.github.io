---
title: 博客折腾记
date: 2021-11-21 04:23:20
categories: 工作
tags: [工具]
description: hexo搭建博客
---



## 前言

整体参考[这篇文章](https://blog.csdn.net/yaorongke/article/details/119089190)，过程中有个神坑的地方，部署到github后一直404，[参考了该文](https://blog.csdn.net/wilde123/article/details/111406371?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-0.no_search_link&spm=1001.2101.3001.4242.1)后才解决。

> *从2020.10.1开始github默认分支从master改为了main，教程及脚本都还是默认master，所以只需要将_config.yml文件中改为部署到github的main分支即可。*

此外，Hexo最大特点就是静态博客，即部署到服务器的博客内容是静态写好的html（由markdown转义）。和我之前几分钟搞的[动态博客](https://github.com/TerminusBot/terminus-jekyll-template)不一样，any way, 为了好看一些，就用Hexo吧。只是稍微注意一下，要在github上维护两个分支，main分支用来上传静态写好的html（即public下面的全部内容），file分支用来上传部署前的原始文件。git也很烦，学了很久了，还是有些坑的等着自己。



## 步骤

0.安装node hexo

1.初始化 hexo init hialoha.github.io

2.cd hialoha.github.io

3.npm install

4.hexo clean 

5.hexo g (g就是generate,生成的意思)

6.hexo s（s就是server, 在服务器运行的意思）在本地测试，可以不

进行这一步

7.根目录下，改 _config.yml里面的参数。注意冒号后面有一个空格，branch一定要改成main而不是master。

```
	theme: fluid
	deploy:
  	  type: git
  	  repo: git@github.com:hialoha/hialoha.github.io.git
  	  branch: main
```

8.npm install hexo-deployer-git --save  

9.再来一遍 hexo c、hexo g、hexo d，就把public里面的内容push到github上了。

10.新增博文后，也是 hexo c、hexo g、hexo d 这三个操作。



## tips

### 多客户端写作 

```
【clone 指定分支】
git clone -b file git@github.com:hialoha/hialoha.github.io.git   

【push 从本地指定分支到远程指定分支】
git push origin file:file  

【main分支单独使用 hexo来上传】
hexo clean, hexo g, hexo d 

【pull 从远程指定分支到本地指定分支】
git pull origin file:file

```

